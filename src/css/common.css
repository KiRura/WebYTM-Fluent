@import url("https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Noto+Sans+JP:wght@100..900&display=swap");

:root {
	--body-font: "Inter", "Noto Sans JP", sans-serif;
	--mono-font: "Google Sans Code", monospace;
	--custom-bg: rgba(30, 30, 30, 0.4);
	--custom-backdrop: blur(60px) saturate(180%);
	--custom-border: 1px solid rgba(255, 255, 255, 0.15);
	--custom-box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5);
}

#ytm-custom-bg {
	position: fixed;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	background-color: #000;
	z-index: 100;
	filter: blur(80px) brightness(0.4) saturate(200%);
	pointer-events: none;
	display: none;

	img {
		width: 100%;
		height: 100%;
		object-fit: cover;
		scale: 1.5;
	}
}

#ytm-custom-wrapper {
	position: fixed;
	top: 0;
	left: 0;
	width: 100vw;
	height: 100vh;
	display: none;
	flex-direction: row;
	@media (width <= 768px) {
		flex-direction: column;
	}
	justify-content: center;
	align-items: center;
	padding-bottom: 130px;
	box-sizing: border-box;
	z-index: 200;
}

#my-mode-toggle {
	background: rgba(255, 255, 255, 0.1);
	border: none;
	color: #fff;
	border-radius: 100vmax;
	padding: 8px 18px;
	font-weight: 600;
	cursor: pointer;
	margin: 0 15px 0 15px;
	font-size: 11px;
	letter-spacing: 1.5px;
}

#ytm-custom-left-col {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	max-height: 60vh;
	text-align: center;
	@media (width >= 768px) {
		max-width: 40%;
	}
	flex: 1;
	padding: 0 40px 0 40px;
	gap: 32px;

	@media (width <= 768px) {
		flex-direction: row;
		text-align: left;
	}
}

#ytm-artwork-container {
	aspect-ratio: 1 / 1;
	box-shadow: 0 50px 100px -20px rgba(0, 0, 0, 0.7);
	overflow: hidden;

	img {
		width: 100%;
		height: 100%;
		object-fit: cover;
	}
}

#ytm-custom-info-area {
	width: 100%;
	color: #fff;
	display: flex;
	flex-direction: column;
	align-items: center;
	font-family: var(--body-font);

	@media (width <= 768px) {
		align-items: start;
	}
}

#ytm-custom-title {
	font-size: 36px;
	font-weight: 800;
	margin-bottom: 12px;
	line-height: 1.1;
	text-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
}

#ytm-custom-artist {
	font-size: 24px;
	font-weight: 500;
	color: rgba(255, 255, 255, 0.8);
}

/* --- Right Column: Synced Lyrics --- */
#my-lyrics-container {
	display: flex;
	flex-direction: column;
	@media (width >= 768px) {
		max-width: 40%;
	}
	flex: 1;
	height: 60vh;
	overflow-y: hidden;
	scrollbar-width: none;
	padding: 0 40px 0 40px;
	/* Fade mask for top/bottom */
	mask-image: linear-gradient(
		to bottom,
		transparent 0%,
		black 20%,
		black 80%,
		transparent 100%
	);
	-webkit-mask-image: linear-gradient(
		to bottom,
		transparent 0%,
		black 20%,
		black 80%,
		transparent 100%
	);
}

.lyric-line {
	font-family: var(--body-font);
	font-size: 40px;
	font-weight: 800;
	color: rgba(255, 255, 255, 0.3);
	margin-bottom: 40px;
	cursor: pointer;
	transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
	transform-origin: left center;
	filter: blur(1.5px);
	transform: scale(0.8);
}

[class="lyric-line active"] {
	color: #ffffff;
	filter: blur(0);
	transform: scale(1);
	text-shadow: 0 0 40px rgba(255, 255, 255, 0.7);
}

body.ytm-custom-layout {
	background: transparent !important;

	.time-info.ytmusic-player-bar {
		font-family: var(--mono-font);
	}

	#ytm-custom-bg {
		display: block !important;
	}

	#ytm-custom-wrapper {
		display: flex !important;
	}

	html,
	ytmusic-app-layout {
		background: transparent !important;
		--ytmusic-mini-guide-width: 0px !important;
		--ytmusic-guide-width: 0px !important;
	}

	#player-page,
	#main-panel,
	#browse-page {
		opacity: 0 !important;
		pointer-events: none !important;
	}

	#player-bar-background,
	.side-panel,
	#secondary,
	.song-media-controls,
	ytmusic-av-toggle,
	ytmusic-mini-guide-renderer,
	ytmusic-guide-renderer,
	#guide-wrapper,
	[slot="guide"],
	#mini-guide-background {
		display: none !important;
	}

	.middle-controls,
	ytmusic-player-page,
	#guide-button,
	#hover-time-info {
		display: none !important;
	}

	ytmusic-nav-bar,
	#nav-bar-background {
		display: none;
	}

	ytmusic-search-box {
		background: rgba(255, 255, 255, 0.1) !important;
		backdrop-filter: blur(10px);
		border: 1px solid rgba(255, 255, 255, 0.1) !important;
		border-radius: 8px !important;

		input {
			color: #fff !important;
		}
	}

	ytmusic-player-bar {
		display: grid !important;
		grid-template-columns: 1.2fr 1fr 1.2fr !important;
		bottom: 40px !important;
		left: 50% !important;
		transform: translateX(-50%) !important;
		width: 80%;
		height: 90px !important;
		padding: 0 40px !important;
		box-sizing: border-box;
		/* Glass Background Effect */
		background: var(--custom-bg) !important;
		backdrop-filter: var(--custom-backdrop) !important;
		border-radius: 30px !important;
		border: var(--custom-border) !important;
		box-shadow: var(--custom-box-shadow) !important;
		z-index: 300 !important;
		visibility: visible !important;
		opacity: 1 !important;
		overflow: hidden !important;

		#background,
		.background,
		#container,
		.container,
		::before,
		::after {
			display: none !important;
		}

		.thumbnail-image-wrapper {
			display: none !important;
		}

		.content-info-wrapper {
			display: flex !important;
			flex-direction: column !important;
			justify-content: center !important;
			align-items: flex-start !important;
			width: 100% !important;
			margin: 0 !important;
		}

		.title {
			font-size: 16px !important;
			font-weight: 700 !important;
			color: #fff !important;
			margin-bottom: 4px !important;
		}

		.byline {
			font-size: 13px !important;
			color: rgba(255, 255, 255, 0.7) !important;
		}

		/* ytmusic-player-expanding-menu {
			background-color: var(--custom-bg);
			backdrop-filter: blur(60px);
			box-shadow: var(--custom-box-shadow);
			border: var(--custom-border);
		} */
	}

	.middle-controls {
		justify-content: center !important;
	}

	.right-controls {
		justify-content: flex-end !important;
	}

	#my-mode-toggle {
		/* Active state */
		background: rgba(255, 255, 255, 0.1);
		color: #fff;
		box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
	}
}
